<div class="header bg-gradient-success pt-md-7"></div>

<br />
<br />

<div class="center-block" *ngIf="isLoading">
  <div class="lds-dual-ring"></div>
</div>

<div
  *ngIf="errorMessage"
  class="alert alert-danger alert-style font-family-lato"
  role="alert"
>
  {{ errorMessage }}
</div>

<div class="form-position" *ngIf="!isLoading">
  <form [formGroup]="changePasswordForm">
    <div class="mb-3">
      <label for="lastName" class="form-label font-family-lato"
        >New Password</label
      >
      <div class="d-flex">
        <input
          [type]="hidePassword ? 'password' : 'text'"
          class="form-control"
          id="lastName"
          placeholder="Enter password"
          formControlName="password"
        />
        <span class="eye-position" (click)="showPassword()">
          <i *ngIf="hidePassword" class="fa fa-eye"></i>
          <i *ngIf="!hidePassword" class="fa fa-eye-slash"></i>
        </span>
      </div>
      <div
        *ngIf="
          changePasswordForm.get('password').invalid &&
          ((changePasswordForm.get('password').touched &&
            changePasswordForm.get('password').dirty) ||
            isSubmit)
        "
        class="error-text font-family-lato"
      >
        <span *ngIf="changePasswordForm.get('password').errors.required"
          >Password is required</span
        >
        <span *ngIf="changePasswordForm.get('password').errors.minlength"
          >Length should be greater than 8</span
        >
      </div>
    </div>
    <div class="mb-3">
      <label for="exampleInputEmail1" class="form-label font-family-lato"
        >Confirm Password</label
      >
      <div class="d-flex">
        <input
          [type]="hideConfirmPassword ? 'password' : 'text'"
          class="form-control"
          id="exampleInputEmail1"
          placeholder="Enter confirm password"
          formControlName="confirmPassword"
        />
        <span class="eye-position" (click)="showConfirmPassword()">
          <i *ngIf="hideConfirmPassword" class="fa fa-eye"></i>
          <i *ngIf="!hideConfirmPassword" class="fa fa-eye-slash"></i>
        </span>
      </div>
      <div
        *ngIf="
          changePasswordForm.get('confirmPassword').invalid &&
          ((changePasswordForm.get('confirmPassword').touched &&
            changePasswordForm.get('confirmPassword').dirty) ||
            isSubmit)
        "
        class="error-text font-family-lato"
      >
        <span *ngIf="changePasswordForm.get('confirmPassword').errors.required"
          >Confirm password is required</span
        >
        <span *ngIf="changePasswordForm.get('confirmPassword').errors.minlength"
          >Length should be greater than 8</span
        >
      </div>

      <div
        *ngIf="
          changePasswordForm.get('confirmPassword').touched &&
          changePasswordForm.get('confirmPassword').dirty
        "
        class="error-text font-family-lato"
      >
        <span *ngIf="changePasswordForm?.errors?.notMatch" class="error-message"
          >Password and confirm password should be equal</span
        >
      </div>
    </div>
    <button
      (click)="changePassword()"
      type="submit"
      class="btn btn-primary font-family-lato"
    >
      Submit
    </button>
  </form>
</div>
